<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
      }

      .menu {
        background-color: #1a202c;
        color: #fff;
        height: 70px;
      }

      .menu__container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 90%;
        max-width: 1200px;
        height: 100%;
        margin: 0 auto;
      }

      .menu__links {
        height: 100%;
        transition: transform 0.5s;
        display: flex;
      }

      .menu__item {
        list-style: none;
        position: relative;
        height: 100%;
        --clip: polygon(0 0, 100% 0, 100% 0, 0 0);
        --transform: rotate(-90deg);
      }

      .menu__item:hover {
        --clip: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
        --transform: rotate(0);
      }

      .menu__link {
        color: #fff;
        text-decoration: none;
        padding: 0 30px;
        display: flex;
        height: 100%;
        align-items: center;
      }

      .menu__link:hover {
        background-color: #5e7094;
      }

      .menu__arrow {
        transform: var(--transform);
        transition: transform 0.3s;
        display: block;
        margin-left: 3px;
      }

      .menu__nesting {
        list-style: none;
        transition: clip-path 0.3s;
        clip-path: var(--clip);
        position: absolute;
        right: 0;
        bottom: 0;
        width: max-content;
        transform: translateY(100%);
        background-color: #000;
      }

      .menu__link--inside {
        padding: 30px 100px 30px 20px;
      }

      .menu__link--inside:hover {
        background-color: #798499;
      }

      .menu__hamburguer {
        height: 100%;
        display: flex;
        align-items: center;
        padding: 0 15px;
        cursor: pointer;
        display: none;
      }

      .menu__img {
        display: block;
        width: 36px;
      }

      @media (max-width: 800px) {
        .menu__hamburguer {
          display: flex;
        }

        .menu__item {
          --clip: 0;
          overflow: hidden;
        }

        .menu__item--active {
          --transform: rotate(0);
          --background: #5e7094;
        }

        .menu__item--show {
          background-color: var(--background);
        }

        .menu__links {
          position: fixed;
          max-width: 400px;
          width: 100%;
          top: 70px;
          bottom: 0;
          right: 0;
          background-color: #000;
          overflow-y: auto;
          display: grid;
          grid-auto-rows: max-content;
          transform: translateX(100%);
        }

        .menu__links--show {
          transform: unset;
          width: 100%;
        }

        .menu__link {
          padding: 25px 0;
          padding-left: 30px;
          height: auto;
        }

        .menu__arrow {
          margin-left: auto;
          margin-right: 20px;
        }

        .menu__nesting {
          display: grid;
          position: unset;
          width: 100%;
          transform: translateY(0);
          height: 0;
          transition: height 0.3s;
        }

        .menu__link--inside {
          width: 90%;
          margin-left: auto;
          border-left: 1px solid #798499;
        }
      }
    </style>
  </head>
  <body>
    <nav class="menu">
      <section class="menu__container">
        <h1 class="menu__logo">Jordan Alex.</h1>

        <ul class="menu__links">
          <li class="menu__item">
            <a href="#" class="menu__link">Home</a>
          </li>

          <li class="menu__item menu__item--show">
            <a href="#" class="menu__link"
              >About <img src="/arrow.svg" class="menu__arrow" /></a
            >

            <ul class="menu__nesting">
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">About 1</a>
              </li>
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">About 2</a>
              </li>
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">About 3</a>
              </li>
            </ul>
          </li>

          <li class="menu__item menu__item--show">
            <a href="#" class="menu__link"
              >Projects <img src="/arrow.svg" class="menu__arrow" /></a
            >

            <ul class="menu__nesting">
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">Projects 1</a>
              </li>
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">Projects 2</a>
              </li>
              <li class="menu__inside">
                <a href="#" class="menu__link menu__link--inside">Projects 3</a>
              </li>
            </ul>
          </li>

          <li class="menu__item">
            <a href="#" class="menu__link">Contact</a>
          </li>
        </ul>

        <div class="menu__hamburguer">
          <img src="/menu.svg" class="menu__img" />
        </div>
      </section>
    </nav>
    <script>
      (function () {
        const listElements = document.querySelectorAll(".menu__item--show");
        const list = document.querySelector(".menu__links");
        const menu = document.querySelector(".menu__hamburguer");

        const addClick = () => {
          listElements.forEach((element) => {
            element.addEventListener("click", () => {
              const subMenu = element.children[1] as HTMLElement;
              let height = 0;
              element.classList.toggle("menu__item--active");

              if (subMenu.clientHeight === 0) {
                height = subMenu.scrollHeight;
              }

              if (subMenu.style) {
                subMenu.style.height = `${height}px`;
              }
            });
          });
        };

        const deleteStyleHeight = () => {
          listElements.forEach((element) => {
            if (element.children[1].getAttribute("style")) {
              element.children[1].removeAttribute("style");
              element.classList.remove("menu__item--active");
            }
          });
        };

        window.addEventListener("resize", () => {
          if (window.innerWidth > 800) {
            deleteStyleHeight();
            if (list.classList.contains("menu__links--show"))
              list.classList.remove("menu__links--show");
          } else {
            addClick();
          }
        });

        if (window.innerWidth <= 800) {
          addClick();
        }

        menu.addEventListener("click", () =>
          list.classList.toggle("menu__links--show")
        );
      })();
    </script>
  </body>
</html>
